{"version":3,"sources":["webpack://_N_E/../suite/src/components/wallet/AccountsMenu/components/AnimationWrapper/index.tsx","webpack://_N_E/../suite/src/components/wallet/AccountsMenu/components/AccountGroup/index.tsx","webpack://_N_E/../suite/src/actions/explore/SelectedAccountActions.ts","webpack://_N_E/../suite/src/components/wallet/AccountsSelector/components/AccountItem/index.tsx","webpack://_N_E/../suite/src/components/wallet/AccountsSelector/components/AccountItem/Container.ts","webpack://_N_E/../suite/src/components/wallet/AccountsSelector/index.tsx","webpack://_N_E/../suite/src/views/explore/index.tsx","webpack://_N_E/./pages/explore/index.tsx","webpack://_N_E//home/runner/work/OneKey-Desktop/OneKey-Desktop/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?be22","webpack://_N_E/../suite/src/actions/explore/constants/SelectedAccountConstants.ts"],"names":["AnimationWrapper","opened","children","onAnimationStart","onUpdate","onAnimationComplete","collapsed","overflow","height","initial","div","animate","transitionEnd","position","exit","transition","duration","ease","Wrapper","styled","props","theme","BG_WHITE","HeaderWrapper","Header","header","onClick","variables","FONT_SIZE","TINY","FONT_WEIGHT","MEDIUM","TYPE_DARK_GREY","STROKE_GREY","forwardRef","_ref","useTheme","hasHeader","type","wrapperRef","useRef","expanded","setExpanded","useState","hasBalance","keepOpened","isOpened","animatedIcon","setAnimatedIcon","React","useEffect","ref","undefined","data-test","id","canAnimate","isActive","size","color","TYPE_LIGHT_GREY","icon","setSelectedAccount","payload","dispatch","SelectedAccount","selected","css","BG_GREY_ALT","Left","Right","Row","AccountName","NORMAL","Balance","SMALL","FiatValueWrapper","AccountHeader","AccountAddress","SkeletonAccountItem","shouldAnimate","useLoadingSkeleton","Skeleton","col","childMargin","width","AccountItem","account","fiat","hide0BalanceWallet","useSelector","state","wallet","settings","setSelectedAccoount","useActions","selectedAccountActions","currentFiatRates","coins","find","f","symbol","toLowerCase","current","fiatCurrency","toFiatCurrency","formattedBalance","rates","dataTestKey","accountType","index","accountLabel","metadata","style","textOverflow","getTitleForNetwork","BALANCE_TO_HIDE","address","descriptor","slice","value","amount","showApproximationIndicator","connect","router","localCurrency","discreetMode","bindActionCreators","goto","routerActions","openModal","modalActions","addMetadata","metadataActions","BG_LIGHT_GREY","isMobileLayout","MenuHeader","Heading","H2","Scroll","scrollbarStyles","NoResults","device","suite","accounts","defaultAccount","selectedAccount","explore","discovery","getDiscoveryStatus","useDiscovery","currentAddress","useLayoutSize","discoveryStatus","discoveryInProgress","status","selectedItemRef","useCallback","_item","noMargin","failed","getFailedAccounts","normalAccounts","sortByCoin","filter","a","deviceState","concat","empty","visible","accountsComponent","length","groupHasBalance","availableBalance","AccountGroup","key","map","isSelected","forwardedRef","buildGroup","ExploreContainer","menu","loaded","setLayout","useContext","LayoutContext","AccountsSelector","MAX_WIDTH","Container","title","image","description","actions","variant","window","location","href","__NEXT_P","push","SET"],"mappings":"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","file":"static/chunks/pages/explore-d3a889c5832d202fe349.js","sourcesContent":["import React from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\n\ninterface Props {\n    opened: boolean;\n    children?: React.ReactNode;\n    onAnimationStart?: () => void;\n    onUpdate?: (latest: { [key: string]: React.ReactText }) => void;\n    onAnimationComplete?: () => void;\n}\n\nconst AnimationWrapper = ({\n    opened,\n    children,\n    onAnimationStart,\n    onUpdate,\n    onAnimationComplete,\n}: Props) => {\n    const collapsed = { overflow: 'hidden', height: 0 };\n    return (\n        <AnimatePresence initial={false}>\n            {opened && (\n                <motion.div\n                    initial={collapsed}\n                    animate={{\n                        height: 'auto',\n                        transitionEnd: { overflow: 'unset', position: 'sticky' },\n                    }}\n                    exit={collapsed}\n                    onAnimationStart={onAnimationStart}\n                    onUpdate={onUpdate}\n                    onAnimationComplete={onAnimationComplete}\n                    transition={{ duration: 0.24, ease: 'easeInOut' }}\n                >\n                    {children}\n                </motion.div>\n            )}\n        </AnimatePresence>\n    );\n};\n\nexport default AnimationWrapper;\n","import React, { useState, forwardRef, useRef } from 'react';\nimport styled from 'styled-components';\nimport { Translation } from '@suite-components';\nimport { useTheme, Icon, variables } from '@trezor/components';\nimport { Account } from '@wallet-types';\nimport AnimationWrapper from '../AnimationWrapper';\n\nconst Wrapper = styled.div`\n    background: ${props => props.theme.BG_WHITE};\n`;\n\nconst HeaderWrapper = styled.div`\n    position: sticky;\n    top: 0;\n    z-index: 1;\n    background: ${props => props.theme.BG_WHITE};\n`;\n\nconst Header = styled.header<{ onClick?: () => void }>`\n    display: flex;\n    padding: 16px;\n    cursor: ${props => (props.onClick ? 'pointer' : 'default')};\n    justify-content: space-between;\n    align-items: center;\n    height: 50px; /* otherwise it jumps on hiding arrow_down/up icon */\n\n    text-transform: uppercase;\n    font-size: ${variables.FONT_SIZE.TINY};\n    font-weight: ${variables.FONT_WEIGHT.MEDIUM};\n    color: ${props => props.theme.TYPE_DARK_GREY};\n    border-top: 1px solid ${props => props.theme.STROKE_GREY};\n`;\n\ninterface Props {\n    type: Account['accountType'];\n    keepOpened: boolean;\n    hasBalance: boolean;\n    children?: React.ReactNode;\n    onUpdate?: () => void;\n    // onAnimationStart?: () => void;\n    // animate?: boolean;\n    // onAnimationComplete?: () => void;\n}\n\nexport default forwardRef((props: Props, _ref: React.Ref<HTMLDivElement>) => {\n    const theme = useTheme();\n    const hasHeader = props.type !== 'normal';\n    const wrapperRef = useRef<HTMLDivElement>(null);\n    const [expanded, setExpanded] = useState(\n        props.hasBalance || props.keepOpened || !hasHeader || props.type === 'segwit',\n    );\n    const isOpened = expanded || props.keepOpened || !hasHeader;\n    const [animatedIcon, setAnimatedIcon] = useState(false); // TODO: move animation to framer\n    // React.useEffect(() => {\n    //     console.log('====>FIRST TIME, MOVE ME UP');\n    // }, [animatedIcon]);\n\n    React.useEffect(() => {\n        // follow props change (example: add new coin/account which has balance but group is closed)\n        if (props.keepOpened || props.hasBalance) {\n            setExpanded(true);\n        }\n    }, [props.keepOpened, props.hasBalance]);\n\n    const onClick = () => {\n        setExpanded(!expanded);\n        setAnimatedIcon(true);\n    };\n\n    // const onAnimationStart = () => {\n    //     console.warn('::onAnimationStart', props.type, isOpened);\n    //     props.onAnimationStart(props.type, isOpened);\n    // };\n\n    // const onAnimationComplete = () => {\n    //     console.warn('::onAnimationComplete', props.type, isOpened);\n    //     props.onAnimationComplete(props.type, isOpened);\n    //     if (wrapperRef.current && !expanded) {\n    //         wrapperRef.current.scrollIntoView({\n    //             behavior: 'smooth',\n    //             block: 'start',\n    //         });\n    //     }\n    // };\n\n    // if (props.type === 'segwit') {\n    //     console.warn('GROUP STATE!', expanded, props.opened);\n    // }\n\n    // Group needs to be wrapped into container (div)\n    return (\n        <Wrapper ref={wrapperRef}>\n            {hasHeader && (\n                <HeaderWrapper>\n                    <Header\n                        onClick={!props.keepOpened ? onClick : undefined}\n                        data-test={`@account-menu/${props.type}`}\n                    >\n                        <Translation\n                            id={\n                                props.type === 'legacy'\n                                    ? 'TR_LEGACY_ACCOUNTS'\n                                    : 'TR_SEGWIT_ACCOUNTS'\n                            }\n                        />\n                        {!props.keepOpened && (\n                            <Icon\n                                canAnimate={animatedIcon}\n                                isActive={isOpened}\n                                size={16}\n                                color={theme.TYPE_LIGHT_GREY}\n                                icon=\"ARROW_DOWN\"\n                            />\n                        )}\n                    </Header>\n                </HeaderWrapper>\n            )}\n            <AnimationWrapper opened={isOpened} onUpdate={props.onUpdate}>\n                {props.children}\n            </AnimationWrapper>\n        </Wrapper>\n    );\n});\n","import * as SelectedAccount from './constants/SelectedAccountConstants';\n\nimport { Dispatch, GetState } from '@suite-types';\nimport { Account } from '@wallet-types';\n\nexport type SelectedAccountActions =\n    | {\n          type: typeof SelectedAccount.SET;\n          payload: Account;\n      }\n    | {\n          type: typeof SelectedAccount.GET;\n      };\n\nexport const setSelectedAccount = (payload: Account) => (dispatch: Dispatch) => {\n    dispatch({ type: SelectedAccount.SET, payload });\n};\n\nexport const getSelectedAccount = () => (_dispatch: Dispatch, getState: GetState) => {\n    return getState().explore.favorite;\n};\n","import React, { forwardRef } from 'react';\nimport { CoinLogo, variables } from '@trezor/components';\nimport styled, { css } from 'styled-components';\nimport { getTitleForNetwork } from '@wallet-utils/accountUtils';\nimport { Translation, FiatValue } from '@suite-components';\nimport { SkeletonCircle, SkeletonRectangle, Stack } from '@suite-components/Skeleton';\nimport { useLoadingSkeleton, useSelector, useActions } from '@suite-hooks';\nimport { CoinBalance } from '@wallet-components';\nimport { Props } from './Container';\n\nimport { BALANCE_TO_HIDE } from '@wallet-constants/account';\n\nimport { toFiatCurrency } from '@wallet-utils/fiatConverterUtils';\nimport * as selectedAccountActions from '@explore-actions/SelectedAccountActions';\n\n// position: inherit - get position from parent (AccountGroup), it will be set after animation ends\n// sticky top: 34, sticky header\nconst Wrapper = styled.div<{ selected: boolean; type: string }>`\n    /* padding: 2px 0px 2px 0px; */\n    display: flex;\n    flex-direction: column;\n    &:first-of-type {\n        padding-top: 0;\n    }\n    ${props =>\n        props.selected &&\n        css`\n            border-radius: 4px;\n            background: ${props => props.theme.BG_GREY_ALT};\n            position: inherit;\n            top: ${props.type !== 'normal'\n                ? '50px'\n                : '0px'}; /* when scrolling keep some space above to fit account group (50px is the height of acc group container)  */\n            bottom: 0px;\n            z-index: 1;\n            padding: 0px;\n        `}\n`;\n\nconst Left = styled.div`\n    display: flex;\n    padding-top: 3px;\n`;\nconst Right = styled.div`\n    display: flex;\n    flex-direction: column;\n    padding-left: 8px;\n    overflow: hidden;\n    padding-right: 10px;\n    margin-right: -10px;\n`;\n\nconst Row = styled.div`\n    display: flex;\n    align-items: center;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n`;\n\nconst AccountName = styled.div`\n    display: flex;\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: ${variables.FONT_SIZE.NORMAL};\n    font-weight: ${variables.FONT_WEIGHT.MEDIUM};\n    color: ${props => props.theme.TYPE_DARK_GREY};\n    line-height: 1.5;\n    font-variant-numeric: tabular-nums;\n`;\n\nconst Balance = styled.div`\n    font-size: ${variables.FONT_SIZE.SMALL};\n    font-weight: ${variables.FONT_WEIGHT.MEDIUM};\n    color: ${props => props.theme.TYPE_DARK_GREY};\n    line-height: 1.57;\n`;\n\nconst FiatValueWrapper = styled.div`\n    font-size: ${variables.FONT_SIZE.SMALL};\n    font-weight: ${variables.FONT_WEIGHT.MEDIUM};\n    color: ${props => props.theme.TYPE_LIGHT_GREY};\n    line-height: 1.57;\n`;\n\nconst AccountHeader = styled.div`\n    display: flex;\n    padding: 12px;\n    border-radius: 4px;\n    cursor: pointer;\n`;\n\nconst AccountAddress = styled.div`\n    display: flex;\n    color: ${props => props.theme.TYPE_DARK_GREY};\n    font-size: ${variables.FONT_SIZE.SMALL};\n`;\n\n// Using `React.forwardRef` to be able to pass `ref` (item) TO parent (Menu/index)\nconst AccountItem = forwardRef((props: Props, ref: React.Ref<HTMLDivElement>) => {\n    const { account, selected } = props;\n    const { fiat, hide0BalanceWallet } = useSelector(state => ({\n        fiat: state.wallet.fiat,\n        hide0BalanceWallet: state.wallet.settings.hide0BalanceWallet,\n    }));\n\n    const { setSelectedAccoount } = useActions({\n        setSelectedAccoount: selectedAccountActions.setSelectedAccount,\n    });\n\n    const currentFiatRates = fiat.coins.find(\n        f => f.symbol.toLowerCase() === account.symbol.toLowerCase(),\n    )?.current;\n\n    const targetCurrency = 'usd';\n    const fiatCurrency = toFiatCurrency(\n        account.formattedBalance,\n        targetCurrency,\n        currentFiatRates?.rates,\n    );\n\n    const dataTestKey = `@account-menu/${account.symbol}/${account.accountType}/${account.index}`;\n\n    const DefaultLabel = () => (\n        <>\n            <Translation id={getTitleForNetwork(account.symbol)} />\n            <span>&nbsp;#{account.index + 1}</span>\n        </>\n    );\n\n    const accountLabel = account.metadata.accountLabel ? (\n        <span style={{ textOverflow: 'ellipsis', overflow: 'hidden' }}>\n            {account.metadata.accountLabel}\n        </span>\n    ) : (\n        <DefaultLabel />\n    );\n\n    if (hide0BalanceWallet && fiatCurrency && +fiatCurrency < BALANCE_TO_HIDE) {\n        return null;\n    }\n\n    const shorten = (address: string) => `${address.slice(0, 6)}...${address.slice(-4)}`;\n\n    return (\n        <Wrapper selected={selected} type={account.accountType} ref={ref}>\n            <AccountHeader\n                onClick={() => {\n                    if (selected) return;\n                    setSelectedAccoount(account);\n                }}\n                data-test={dataTestKey}\n            >\n                <Left>\n                    <CoinLogo size={16} symbol={account.symbol} />\n                </Left>\n                <Right>\n                    <Row>\n                        <AccountName data-test={`${dataTestKey}/label`}>{accountLabel}</AccountName>\n                    </Row>\n                    <Row>\n                        <AccountAddress>{shorten(account.descriptor)}</AccountAddress>\n                    </Row>\n                    <Row>\n                        <Balance>\n                            <CoinBalance value={account.formattedBalance} symbol={account.symbol} />\n                        </Balance>\n                    </Row>\n                    <Row>\n                        <FiatValue\n                            amount={account.formattedBalance}\n                            symbol={account.symbol}\n                            showApproximationIndicator\n                        >\n                            {({ value }) =>\n                                value ? <FiatValueWrapper>{value}</FiatValueWrapper> : null\n                            }\n                        </FiatValue>\n                    </Row>\n                </Right>\n            </AccountHeader>\n        </Wrapper>\n    );\n});\n\nexport const SkeletonAccountItem = (props: { animate?: boolean }) => {\n    const { shouldAnimate } = useLoadingSkeleton();\n    const animate = props.animate ?? shouldAnimate;\n    return (\n        <AccountHeader>\n            <Left>\n                <SkeletonCircle size=\"18px\" />\n            </Left>\n            <Right>\n                <Stack col childMargin=\"0px 0px 8px 0px\">\n                    <SkeletonRectangle width=\"180px\" height=\"20px\" animate={animate} />\n\n                    <SkeletonRectangle width=\"100px\" height=\"16px\" animate={animate} />\n\n                    <SkeletonRectangle width=\"100px\" height=\"16px\" animate={animate} />\n                </Stack>\n            </Right>\n        </AccountHeader>\n    );\n};\n\nexport default AccountItem;\n","import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Dispatch, AppState } from '@suite-types';\nimport { Account } from '@wallet-types';\nimport * as routerActions from '@suite-actions/routerActions';\nimport * as modalActions from '@suite-actions/modalActions';\nimport * as metadataActions from '@suite-actions/metadataActions';\nimport AccountItem from './index';\n\nconst mapStateToProps = (state: AppState) => ({\n    router: state.router,\n    localCurrency: state.wallet.settings.localCurrency,\n    discreetMode: state.wallet.settings.discreetMode,\n    fiat: state.wallet.fiat,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n    bindActionCreators(\n        {\n            goto: routerActions.goto,\n            openModal: modalActions.openModal,\n            addMetadata: metadataActions.addMetadata,\n        },\n        dispatch,\n    );\n\ninterface OwnProps {\n    account: Account;\n    selected: boolean;\n    forwardedRef?: (ref: HTMLDivElement | null) => void | null;\n}\n\nexport type Props = ReturnType<typeof mapStateToProps> &\n    ReturnType<typeof mapDispatchToProps> &\n    OwnProps;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountItem);\n","import React, { useCallback, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { connect } from 'react-redux';\nimport { H2, variables, scrollbarStyles } from '@trezor/components';\nimport { Translation, AddAccountButton } from '@suite-components';\nimport { useDiscovery, useLayoutSize } from '@suite-hooks';\nimport { sortByCoin, getFailedAccounts } from '@wallet-utils/accountUtils';\nimport { AppState } from '@suite-types';\nimport { Account } from '@wallet-types';\n\nimport AccountGroup from './components/AccountGroup';\nimport AccountItem from './components/AccountItem/Container';\nimport { SkeletonAccountItem } from './components/AccountItem';\n\nconst Wrapper = styled.div<{ isMobileLayout?: boolean }>`\n    display: flex;\n    flex-direction: column;\n    z-index: 4; /*  higher than accounts list to prevent box-shadow overflow */\n    width: 100%;\n    background: ${props => props.theme.BG_LIGHT_GREY};\n\n    ${props =>\n        !props.isMobileLayout &&\n        css`\n            overflow: auto;\n        `}\n`;\n\nconst MenuHeader = styled.div<{ isMobileLayout?: boolean }>`\n    display: flex;\n    flex-direction: column;\n    /* justify-content: center; */\n    background: ${props => props.theme.BG_WHITE};\n    border-bottom: 1px solid ${props => props.theme.STROKE_GREY};\n\n    ${props =>\n        props.isMobileLayout &&\n        css`\n            padding: 12px 16px;\n        `}\n\n    ${props =>\n        !props.isMobileLayout &&\n        css`\n            padding: 32px 16px 8px 16px;\n            margin-bottom: 8px;\n        `}\n`;\n\nconst Row = styled.div`\n    display: flex;\n    justify-content: space-between;\n`;\n\nconst Heading = styled(H2)<{ isMobileLayout?: boolean }>`\n    font-weight: ${variables.FONT_WEIGHT.MEDIUM};\n    color: ${props => props.theme.TYPE_DARK_GREY};\n    ${props =>\n        props.isMobileLayout &&\n        css`\n            font-size: 18px;\n        `}\n`;\n\nconst Scroll = styled.div`\n    height: auto;\n    overflow-y: auto;\n    overflow-x: hidden;\n    padding: 0px 8px;\n\n    ${scrollbarStyles}\n`;\n\nconst NoResults = styled.div`\n    display: flex;\n    font-size: ${variables.FONT_SIZE.SMALL};\n    font-weight: ${variables.FONT_WEIGHT.MEDIUM};\n    color: ${props => props.theme.TYPE_LIGHT_GREY};\n    justify-content: center;\n    text-align: center;\n    margin: 36px 0px;\n`;\n\nconst mapStateToProps = (state: AppState) => ({\n    device: state.suite.device,\n    accounts: state.wallet.accounts,\n    defaultAccount: state.wallet.selectedAccount,\n    selectedAccount: state.explore.selectedAccount,\n});\n\ntype Props = ReturnType<typeof mapStateToProps>;\n\nconst AccountsSelector = ({ device, accounts, selectedAccount, defaultAccount }: Props) => {\n    const { discovery, getDiscoveryStatus } = useDiscovery();\n    const { current } = selectedAccount;\n    const { account } = defaultAccount;\n\n    const currentAddress = current?.descriptor || account?.descriptor;\n\n    const { isMobileLayout } = useLayoutSize();\n\n    const discoveryStatus = getDiscoveryStatus();\n    const discoveryInProgress = discoveryStatus && discoveryStatus.status === 'loading';\n\n    const selectedItemRef = useCallback((_item: HTMLDivElement | null) => {\n        // TODO: scroll to selected item\n    }, []);\n\n    if (!device || !discovery) {\n        // TODO: default empty state while retrieving data from the device\n        return (\n            <Wrapper isMobileLayout={isMobileLayout}>\n                <Scroll>\n                    <MenuHeader isMobileLayout={isMobileLayout}>\n                        <Heading noMargin isMobileLayout={isMobileLayout}>\n                            <Translation id=\"TR_MY_ACCOUNTS\" />\n                        </Heading>\n                    </MenuHeader>\n                    {!isMobileLayout && <SkeletonAccountItem />}\n                </Scroll>\n            </Wrapper>\n        );\n    }\n\n    const isSelected = (account: Account) => account.descriptor === currentAddress;\n\n    const failed = getFailedAccounts(discovery);\n\n    const list = sortByCoin(accounts.filter(a => a.deviceState === device.state).concat(failed));\n\n    // always show first \"normal\" account even if they are empty\n    const normalAccounts = list.filter(\n        a => a.accountType === 'normal' && a.symbol === 'eth' && (!a.empty || a.visible),\n    );\n    // const uniqueNetworks = [...new Set(filteredAccounts.map(item => item.symbol))];\n\n    const buildGroup = (type: Account['accountType'], accounts: Account[]) => {\n        const groupHasBalance = accounts.find(a => a.availableBalance !== '0');\n\n        if (!accounts.length) {\n            // show skeleton in 'normal' group while we wait for a discovery of first account\n            return <>{discoveryInProgress && type === 'normal' && <SkeletonAccountItem />}</>;\n        }\n\n        return (\n            <AccountGroup key={type} type={type} hasBalance={!!groupHasBalance} keepOpened>\n                {accounts.map(account => {\n                    const selected = !!isSelected(account);\n                    const forwardedRef = selected ? selectedItemRef : undefined;\n                    return (\n                        <AccountItem\n                            key={`${account.descriptor}-${account.symbol}`}\n                            account={account}\n                            selected={selected}\n                            forwardedRef={forwardedRef}\n                        />\n                    );\n                })}\n                {discoveryInProgress && <SkeletonAccountItem />}\n            </AccountGroup>\n        );\n    };\n\n    const listedAccountsLength = normalAccounts.length;\n\n    const accountsComponent =\n        listedAccountsLength > 0 ? (\n            <>{buildGroup('normal', normalAccounts)}</>\n        ) : (\n            <NoResults>\n                <Translation id=\"TR_ACCOUNT_SEARCH_NO_RESULTS\" />\n            </NoResults>\n        );\n\n    return (\n        <Wrapper>\n            <Scroll>\n                <MenuHeader>\n                    <Row>\n                        <Heading noMargin>\n                            <Translation id=\"TR_SELECT_ACCOUNT\" />\n                        </Heading>\n                    </Row>\n                </MenuHeader>\n                {accountsComponent}\n            </Scroll>\n        </Wrapper>\n    );\n};\n\nexport default connect(mapStateToProps)(AccountsSelector);\n","/* eslint-disable @typescript-eslint/no-var-requires */\nimport React, { useContext, useEffect } from 'react';\nimport { LayoutContext } from '@suite-components';\nimport AccountsSelector from '@suite/components/wallet/AccountsSelector';\n\nconst ExploreContainer: React.FC<{ menu: React.ReactNode; loaded?: boolean }> = ({\n    menu,\n    loaded = false,\n}) => {\n    const { setLayout } = useContext(LayoutContext);\n\n    useEffect(() => {\n        if (setLayout) setLayout('Explore', loaded ? <AccountsSelector /> : undefined, menu, true);\n    }, [setLayout, menu, loaded]);\n\n    return null;\n};\n\nexport default ExploreContainer;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { AccountExceptionLayout } from '@wallet-components';\nimport Explore from '@explore-views';\n\nimport { MAX_WIDTH } from '@suite-constants/layout';\nimport { Translation } from '@suite-components';\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: center;\n    max-width: ${MAX_WIDTH};\n    width: 100%;\n    height: 100%;\n`;\n\nconst Container = () => {\n    return (\n        <Wrapper>\n            <AccountExceptionLayout\n                title={<Translation id=\"TR_SWAP_IN_WEB_BROWSER\" />}\n                image=\"404\"\n                description={<Translation id=\"TR_DAPP_IN_WEB_BROWSER_DESC\" />}\n                actions={[\n                    {\n                        key: '1',\n                        variant: 'secondary',\n                        onClick: () => {\n                            if (window.location) {\n                                window.location.href = 'https://onekey.so/download?client=desktop';\n                            }\n                        },\n                        children: <Translation id=\"TR_SWAP_IN_WEB_GOTO_SWAP_SITE\" />,\n                    },\n                ]}\n            />\n        </Wrapper>\n    );\n};\n\nconst ExploreContainer = () => {\n    return <Explore key=\"explore\" menu={<Container />} />;\n};\n\nexport default ExploreContainer;\n","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/explore\",\n        function () {\n          return require(\"private-next-pages/explore/index.tsx\");\n        }\n      ]);\n    ","export const SET = '@explore/set-selected-account';\nexport const GET = '@explore/get-selected-account';\n"],"sourceRoot":""}