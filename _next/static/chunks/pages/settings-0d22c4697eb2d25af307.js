_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[49],{"57j9":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return a("utMG")}])},Aq9J:function(e,t,a){"use strict";a.d(t,"b",(function(){return _})),a.d(t,"a",(function(){return O}));var n=a("ERkP"),i=a.n(n),s=a("j/s1"),d=a("nRYI"),o=a("r1NI"),l=a("4Vpd"),r=a("Tdcs"),c=a("jsNd"),u=a("4iMl"),g=a("Tlkh"),p=i.a.createElement;const b=Object(s.default)(o.j).withConfig({displayName:"SettingsMenu__StyledLink"})(["padding:10px 16px;width:100%;"]);var _=()=>{const{setDebugMode:e,openModal:t,goto:a}=Object(l.b)({openModal:r.openModal,goto:u.c,setDebugMode:c.p}),{0:i,1:s}=Object(n.useState)(0),_=Object(l.l)((e=>e.suite.settings.debug.showDebugMenu));return p(o.e,{maxWidth:"default",title:p("span",{"aria-hidden":"true",onClick:()=>{s((e=>e+1)),4===i&&(s(0),e({showDebugMenu:!_}))}},p(o.J,{id:"TR_SETTINGS"})),navigation:p(o.d,{items:[{title:p(o.J,{id:"TR_GENERAL"}),"data-test":"@settings/menu/general",icon:"SETTINGS",route:"settings-index"},{title:p(o.J,{id:"TR_DEVICE"}),"data-test":"@settings/menu/device",icon:"TREZOR",route:"settings-device"},{title:p(o.J,{id:"TR_COINS"}),"data-test":"@settings/menu/wallet",icon:"COINS",route:"settings-coins"}]}),dropdown:p(d.Dropdown,{alignMenu:"right","data-test":"@settings/menu/dropdown",items:[{key:"group1",options:[{key:"support",label:p(b,{size:"small",href:g.SUPPORT_URL},p(o.J,{id:"TR_SUPPORT"})),"data-test":"@settings/menu/support",callback:()=>{},noPadding:!0},{key:"log",label:p(o.J,{id:"TR_SHOW_LOG"}),"data-test":"@settings/menu/log",callback:()=>{t({type:"log"})}},{key:"debug",label:"Debug Settings","data-test":"@settings/menu/debug",isHidden:!_,callback:()=>{a("settings-debug")}}]}]})})},E=i.a.createElement;const T=s.default.div.withConfig({displayName:"SettingsLayout__Wrapper"})(["display:flex;flex:1;flex-direction:column;"]);var O=e=>{const{setLayout:t}=i.a.useContext(o.r);return i.a.useEffect((()=>{t&&t(e.title||"Settings",null,E(_,null))}),[e.title,t]),E(T,{"data-test":e["data-test"]},e.children)}},NPVX:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return o}));var n=a("Zxgz"),i=a("BUnG");const s=`https://github.com/${"OneKeyHQ"}/${"OneKey-Desktop"}`,d=e=>{const t=new URL(`${s}/issues/new`),a=`\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**Steps to reproduce:**\n1. a\n2. b\n3. c\n\n**Info:**\n - Suite version: ${(Object(i.k)()?"desktop":"web")+" 22.7.0 (4e1e2b0faec323b49b88309e3fcf8fb95173d9da)"}\n - Browser: ${Object(i.i)()}\n - OS: ${navigator.platform}\n - Screen: ${Object(i.h)()}x${Object(i.g)()}\n - Device: ${(e=>null!==e&&void 0!==e&&e.features?`model ${Object(n.l)(e)} ${Object(n.g)(e)} ${Object(n.m)(e)?"Bitcoin only":"regular"}`:"")(e)}\n\n**Expected result:**\nA clear and concise description of what you expected to happen.\n\n**Actual result:**\nA clear and concise description of what actually happens.\n\n**Screenshots:**\nInsert here.\n\n**Note(s):**\nAdd any other context about the problem here.\n`;t.searchParams.set("body",a),window.open(t.toString())},o=e=>`${s}/releases/tag/v${e}`},utMG:function(e,t,a){"use strict";a.r(t);var n=a("uDfI"),i=a("9OUN"),s=a("W29j"),d=a("xtke"),o=a("021W"),l=a("4iMl"),r=a("Lp5W"),c=a("ERkP"),u=a.n(c),g=a("j/s1"),p=a("Aq9J"),b=a("r1NI"),_=a("Y3DR"),E=a("+8Xb"),T=a("4Vpd"),O=a("nRYI"),h=a("PnML"),v=a("jsNd"),R=a("EbO7");a("Rm8+");const N=e=>({type:R.b.WINDOW,payload:e});var C=a("NPVX"),f=a("ZO07"),A=u.a.createElement;const S=e=>({value:e,label:e.toUpperCase()}),L=g.default.div.withConfig({displayName:"settings__Version"})(["span{display:flex;align-items:center;}"]),w=Object(g.default)(O.Button).withConfig({displayName:"settings__VersionButton"})(["padding-left:1ch;"]),k=Object(g.default)(O.Tooltip).withConfig({displayName:"settings__VersionTooltip"})(["display:inline-flex;margin:0 2px;"]),m=g.default.a.withConfig({displayName:"settings__VersionLink"})([""]);var y=({language:e,metadata:t,localCurrency:a,desktopUpdate:n,setLocalCurrency:i,fetchLocale:d,removeDatabase:o,goto:l,initMetadata:r,disconnectProvider:g,disableMetadata:R})=>{const y=Object(T.c)(),{isLocked:I,device:D}=Object(T.e)(),J=I(),{tor:j,torOnionLinks:U,useChangeAddress:P}=Object(T.l)((e=>({tor:e.suite.tor,torOnionLinks:e.suite.settings.torOnionLinks,useChangeAddress:e.wallet.settings.useChangeAddress}))),{setOnionLinks:G}=Object(T.b)({setOnionLinks:v.s}),{0:x,1:M}=Object(c.useState)("");Object(c.useEffect)((()=>{var e;null===(e=window.desktopApi)||void 0===e||e.getTorAddress().then((e=>M(e)))}),[M]);Object(c.useCallback)((()=>{window.desktopApi.setTorAddress(x)}),[x]);const{setUpdateWindow:V,setUseChangeAddress:Y}=Object(T.b)({setUpdateWindow:N,setUseChangeAddress:s.m}),B=Object(c.useCallback)((()=>{var e;return null===(e=window.desktopApi)||void 0===e?void 0:e.checkForUpdates(!0)}),[]),$=Object(c.useCallback)((()=>{var e;return null===(e=window.desktopApi)||void 0===e?void 0:e.installUpdate()}),[]),W=Object(c.useCallback)((()=>V("maximized")),[V]);return A(p.a,{"data-test":"@settings/index"},A(_.f,{title:A(b.J,{id:"TR_LOCALIZATION"})},A(_.g,{"data-test":"@settings/language"},A(_.h,{title:A(b.J,{id:"TR_LANGUAGE"})}),A(_.b,null,A(_.d,{hideTextCursor:!0,useKeyPressScroll:!0,noTopLabel:!0,value:{value:e,label:E.d.find((t=>t.code===e)).name},options:E.d.map((e=>({value:e.code,label:e.name}))),onChange:e=>{d(e.value),y.report({type:"settings/general/change-language",payload:{language:e.value}})},"data-test":"@settings/language-select"}))),A(_.g,{"data-test":"@settings/fiat"},A(_.h,{title:A(b.J,{id:"TR_PRIMARY_FIAT"})}),A(_.b,null,A(_.d,{noTopLabel:!0,hideTextCursor:!0,useKeyPressScroll:!0,onChange:e=>{i(e.value),y.report({type:"settings/general/change-fiat",payload:{fiat:e.value}})},value:S(a),options:E.b.currencies.map((e=>S(e))),"data-test":"@settings/fiat-select"})))),A(_.f,{title:A(b.J,{id:"TR_LABELING"})},A(_.g,{"data-test":"@settings/metadata"},A(_.h,{title:A(b.J,{id:"TR_LABELING_ENABLED"}),description:A(b.J,{id:"TR_LABELING_FEATURE_ALLOWS"})}),A(_.b,null,A(O.Switch,{isDisabled:!t.enabled&&!(null!==D&&void 0!==D&&D.connected)&&J,"data-test":"@settings/metadata-switch",checked:t.enabled,onChange:()=>t.enabled?R():r(!0)}))),t.enabled&&t.provider&&A(_.g,{"data-test":"@settings/metadata-provider"},A(_.h,{title:t.provider.isCloud?A(b.J,{id:"TR_CONNECTED_TO_PROVIDER",values:{provider:Object(h.a)(t.provider.type),user:t.provider.user}}):A(b.J,{id:"TR_CONNECTED_TO_PROVIDER_LOCALLY"}),description:t.provider.isCloud?A(b.J,{id:"TR_YOUR_LABELING_IS_SYNCED"}):A(b.J,{id:"TR_YOUR_LABELING_IS_SYNCED_LOCALLY"})}),A(_.b,null,A(_.a,{variant:"secondary",onClick:()=>g(),"data-test":"@settings/metadata/disconnect-provider-button"},A(b.J,{id:"TR_DISCONNECT"})))),t.enabled&&!t.provider&&"enabled"===(null===D||void 0===D?void 0:D.metadata.status)&&A(_.g,null,A(_.h,{title:A(b.J,{id:"TR_LABELING_NOT_SYNCED"}),description:A(b.J,{id:"TR_TO_MAKE_YOUR_LABELS_PERSISTENT"})}),A(_.b,null,A(_.a,{variant:"secondary",onClick:()=>r(!0),"data-test":"@settings/metadata/connect-provider-button"},A(b.J,{id:"TR_CONNECT"}))))),A(_.f,{title:A(b.J,{id:"TR_USE_CHANGE_ADDRESS"})},A(_.g,{"data-test":"@settings/change-address"},A(_.h,{title:A(b.J,{id:"TR_USE_CHANGE_ADDRESS"}),description:A(b.J,{id:"TR_USE_CHANGE_ADDRESS_DESC"})}),A(_.b,null,A(O.Switch,{"data-test":"@settings/change-address",checked:P,onChange:e=>Y(e)})))),A(_.f,{title:A(b.J,{id:"TR_APPLICATION"})},A(_.i,null),A(_.g,{"data-test":"@settings/storage"},A(_.h,{title:A(b.J,{id:"TR_SUITE_STORAGE"}),description:A(b.J,{id:"TR_CLEAR_STORAGE_DESCRIPTION"})}),A(_.b,null,A(_.a,{onClick:async()=>{o(),window.desktopApi?window.desktopApi.send("app/restart"):(await l("suite-index"),window.location.reload())},variant:"secondary"},A(b.J,{id:"TR_CLEAR_STORAGE"})))),!Object(f.b)()&&A(_.g,{"data-test":"@settings/version"},A(_.h,{title:A(b.J,{id:"TR_SUITE_VERSION"}),description:A(L,null,A(b.J,{id:"TR_YOUR_CURRENT_VERSION",values:{version:A(k,{content:"4e1e2b0faec323b49b88309e3fcf8fb95173d9da"},A(m,{target:"_blank",href:"https://github.com/OneKeyHQ/OneKey-Desktop/commit/4e1e2b0faec323b49b88309e3fcf8fb95173d9da"},A(w,{variant:"tertiary",icon:"EXTERNAL_LINK",alignIcon:"right"},"22.7.0")))}}),!["checking","not-available"].includes(n.state)&&n.latest&&A(u.a.Fragment,null,"\xa0",A(b.J,{id:"TR_YOUR_NEW_VERSION",values:{version:A(m,{target:"_blank",href:Object(C.a)(n.latest.version)},A(w,{variant:"tertiary",icon:"EXTERNAL_LINK",alignIcon:"right"},n.latest.version))}})))}),n.enabled&&A(_.b,null,"checking"===n.state&&A(_.a,{isDisabled:!0,variant:"secondary"},A(b.J,{id:"SETTINGS_UPDATE_CHECKING"})),"not-available"===n.state&&A(_.a,{onClick:B,variant:"secondary"},A(b.J,{id:"SETTINGS_UPDATE_CHECK"})),"available"===n.state&&A(_.a,{onClick:W,variant:"secondary"},A(b.J,{id:"SETTINGS_UPDATE_AVAILABLE"})),"downloading"===n.state&&A(_.a,{onClick:W,variant:"secondary"},A(b.J,{id:"SETTINGS_UPDATE_DOWNLOADING"})),"ready"===n.state&&A(_.a,{onClick:$,variant:"secondary"},A(b.J,{id:"SETTINGS_UPDATE_READY"}))))))};var I=Object(n.b)((e=>({language:e.suite.settings.language,localCurrency:e.wallet.settings.localCurrency,metadata:e.metadata,desktopUpdate:e.desktopUpdate})),(e=>Object(i.b)({setLocalCurrency:s.k,removeDatabase:d.i,fetchLocale:o.a,goto:l.c,initMetadata:r.f,disableMetadata:r.c,disconnectProvider:r.d},e)))(y);t.default=I}},[["57j9",0,1,7,13,10,3,15,8,11,9,14,6,12,5,16,2,4]]]);
//# sourceMappingURL=settings-0d22c4697eb2d25af307.js.map